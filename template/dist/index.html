<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Aplicación PWA con Bootstrap - Examen Práctico" />
    <meta name="author" content="" />
    <title>MiAppPWA - Examen Práctico</title>
    
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    
    <!-- Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #6f42c1;
            --secondary-color: #20c997;
        }
        
        body {
            font-family: 'Merriweather Sans', sans-serif;
            padding-top: 76px;
        }
        
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1518770660439-4636190af475?ixlib=rb-4.0.3') center/cover no-repeat;
            color: white;
            padding: 7rem 0;
            text-align: center;
        }
        
        .section-title {
            position: relative;
            padding-bottom: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--primary-color);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-primary:hover {
            background-color: #5a32a3;
            border-color: #5a32a3;
        }
    </style>
</head>
<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#" onclick="showHome()">MiAppPWA</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showHome()">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#features">Características</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" onclick="showUIComponents()">Componentes UI</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#notifications">Notificaciones</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-section">
        <div class="container px-4 px-lg-5 h-100">
            <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center">
                <div class="col-lg-8 align-self-end">
                    <h1 class="text-white font-weight-bold">Aplicación PWA con Bootstrap</h1>
                    <hr class="divider" />
                </div>
                <div class="col-lg-8 align-self-baseline">
                    <p class="text-white-75 mb-5">Una aplicación web progresiva moderna con funcionalidades offline y notificaciones push</p>
                    <div class="mt-4">
                        <button class="btn btn-primary btn-lg me-2" onclick="requestNotificationPermission()">
                            <i class="bi bi-bell-fill me-1"></i> Permitir notificaciones
                        </button>
                        <button class="btn btn-secondary btn-lg" onclick="showDemoNotification()">
                            <i class="bi bi-chat-dots-fill me-1"></i> Probar notificación
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="page-section bg-light">
        <div class="container px-4 px-lg-5">
            <h2 class="section-title">Características Principales</h2>
            <div class="row gx-4 gx-lg-5">
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-gem fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Rendimiento</h3>
                        <p class="text-muted mb-0">Optimizada para cargar rápidamente incluso en conexiones lentas.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-laptop fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Modo Offline</h3>
                        <p class="text-muted mb-0">Funcionalidad completa incluso sin conexión a Internet.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-globe fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Responsive</h3>
                        <p class="text-muted mb-0">Diseño adaptable a todos los dispositivos móviles y equipos de escritorio.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 text-center">
                    <div class="mt-5">
                        <div class="mb-2"><i class="bi-heart fs-1 text-primary"></i></div>
                        <h3 class="h4 mb-2">Notificaciones</h3>
                        <p class="text-muted mb-0">Notificaciones push para mantener informados a los usuarios.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- UI Components Section -->
    <section id="ui-components" class="py-5 d-none">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="section-title mb-0">Componentes UI de Bootstrap</h2>
                <button class="btn btn-primary" onclick="showHome()">
                    <i class="bi bi-arrow-left"></i> Volver al inicio
                </button>
            </div>
            
            <h3 class="mt-5">Navbar Responsive</h3>
            <p>La barra de navegación superior se colapsa automáticamente en dispositivos móviles.</p>
            
            <h3 class="mt-5">Sistema de Grid</h3>
            <div class="row text-center">
                <div class="col-md-4 mb-3">
                    <div class="p-3 border bg-light">Columna 1</div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="p-3 border bg-light">Columna 2</div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="p-3 border bg-light">Columna 3</div>
                </div>
            </div>
            
            <h3 class="mt-5">Cards</h3>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Tarjeta Simple</h5>
                            <p class="card-text">Ejemplo de una tarjeta básica de Bootstrap con texto de ejemplo.</p>
                            <a href="#" class="btn btn-primary">Botón</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="card">
                        <div class="card-header">
                            Encabezado de tarjeta
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">Tarjeta con Encabezado</h5>
                            <p class="card-text">Ejemplo de una tarjeta con encabezado y pie de página.</p>
                        </div>
                        <div class="card-footer text-muted">
                            Pie de tarjeta
                        </div>
                    </div>
                </div>
            </div>
            
            <h3 class="mt-5">Botones</h3>
            <div class="d-flex flex-wrap gap-2 mb-4">
                <button type="button" class="btn btn-primary">Primary</button>
                <button type="button" class="btn btn-secondary">Secondary</button>
                <button type="button" class="btn btn-success">Success</button>
                <button type="button" class="btn btn-danger">Danger</button>
            </div>
        </div>
    </section>

    <!-- Notifications Section -->
    <section id="notifications" class="page-section bg-dark text-white">
        <div class="container px-4 px-lg-5 text-center">
            <h2 class="mb-4">Configuración de Notificaciones</h2>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card bg-light text-dark">
                        <div class="card-body text-center">
                            <i class="bi bi-bell-fill text-primary display-4 mb-3"></i>
                            <h3 class="card-title">Notificaciones PWA</h3>
                            <p class="card-text">Las notificaciones permiten mantener a los usuarios informados incluso cuando no están usando activamente la aplicación.</p>
                            
                            <div class="mt-4">
                                <button class="btn btn-primary btn-lg me-2" onclick="requestNotificationPermission()">
                                    <i class="bi bi-bell-fill me-1"></i> Permitir notificaciones
                                </button>
                                <button class="btn btn-secondary btn-lg" onclick="showDemoNotification()">
                                    <i class="bi bi-chat-dots-fill me-1"></i> Probar notificación
                                </button>
                            </div>
                            
                            <div class="mt-4 p-3 bg-dark text-white rounded">
                                <h4>Estado de permisos:</h4>
                                <p id="permission-status" class="mb-0">Verificando...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-light py-5">
        <div class="container px-4 px-lg-5">
            <div class="small text-center text-muted">
                <p>Examen Práctico Segundo Parcial - Tecnologías de Internet</p>
                <p>CSS Frameworks (Bootstrap), PWA offline y Notificaciones</p>
                <div class="mt-3">
                    <button class="btn btn-outline-dark me-2" onclick="checkConnectivity()">
                        <i class="bi bi-wifi"></i> Verificar conectividad
                    </button>
                    <button class="btn btn-outline-dark" onclick="clearAppCache()">
                        <i class="bi bi-trash"></i> Limpiar caché
                    </button>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
    // Función para mostrar componentes UI 
    function showUIComponents() {
        console.log("Mostrando componentes UI...");
        
        // Ocultar todas las secciones principales
        document.querySelectorAll('section').forEach(section => {
            if (section.id !== 'ui-components') {
                section.classList.add('d-none');
            }
        });
        
        // Mostrar la sección de componentes
        const uiSection = document.getElementById('ui-components');
        if (uiSection) {
            uiSection.classList.remove('d-none');
            setTimeout(() => {
                uiSection.scrollIntoView({behavior: 'smooth'});
            }, 100);
        }
    }

    // Función para volver al inicio
    function showHome() {
        console.log("Volviendo al inicio...");
        
        // Mostrar todas las secciones principales
        document.querySelectorAll('section').forEach(section => {
            if (section.id !== 'ui-components') {
                section.classList.remove('d-none');
            }
        });
        
        // Ocultar la sección de componentes
        const uiSection = document.getElementById('ui-components');
        if (uiSection) {
            uiSection.classList.add('d-none');
        }
        
        // Scroll al inicio
        window.scrollTo({top: 0, behavior: 'smooth'});
    }

    // Verificar estado de permisos de notificación
    function checkNotificationPermission() {
        if (!('Notification' in window)) {
            document.getElementById('permission-status').textContent = 
                'Este navegador no soporta notificaciones';
            return;
        }
        
        if (Notification.permission === 'granted') {
            document.getElementById('permission-status').textContent = 
                'Permiso concedido para mostrar notificaciones';
        } else if (Notification.permission === 'denied') {
            document.getElementById('permission-status').textContent = 
                'Permiso denegado para mostrar notificaciones';
        } else {
            document.getElementById('permission-status').textContent = 
                'Permiso para notificaciones aún no solicitado';
        }
    }
    
    // Solicitar permiso para notificaciones
    function requestNotificationPermission() {
        if (!('Notification' in window)) {
            alert('Este navegador no soporta notificaciones');
            return;
        }
        
        Notification.requestPermission().then(function(permission) {
            checkNotificationPermission();
            
            if (permission === 'granted') {
                showDemoNotification();
            }
        });
    }
    
    // Mostrar notificación de demostración
    function showDemoNotification() {
        if (Notification.permission !== 'granted') {
            alert('Primero debe permitir las notificaciones');
            return;
        }
        
        const notification = new Notification('Examen PWA', {
            body: '¡Esta es una notificación de demostración de la aplicación PWA!',
            icon: 'https://cdn-icons-png.flaticon.com/512/6001/6001368.png',
            tag: 'demo-notification'
        });
        
        notification.onclick = function() {
            window.focus();
            notification.close();
        };
    }
    
    // Verificar conectividad
    function checkConnectivity() {
        if (navigator.onLine) {
            alert('Estás conectado a Internet. ✅');
        } else {
            alert('No tienes conexión a Internet. 🚫 Algunas funciones pueden no estar disponibles.');
        }
    }
    
    // Limpiar caché de la aplicación (simulado)
    function clearAppCache() {
        if (confirm('¿Estás seguro de que deseas limpiar el caché de la aplicación?')) {
            alert('Caché limpiado con éxito. La aplicación funcionará mejor.');
        }
    }
    
    // Inicialización
    document.addEventListener('DOMContentLoaded', function() {
        checkNotificationPermission();
        
        // Verificar que la sección UI existe
        const uiSection = document.getElementById('ui-components');
        if (!uiSection) {
            console.error("No se encuentra la sección de componentes UI");
        }
    });
    </script>
</body>
</html>